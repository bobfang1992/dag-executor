# Capability Registry
# Defines all capabilities supported by the engine with embedded JSON Schema for payload validation.
# Generated outputs:
#   - dsl/packages/generated/capabilities.ts
#   - engine/include/capability_registry_gen.h

schema_version = 1

# Capability status values:
#   - implemented: Fully supported by engine
#   - draft: RFC approved, not yet implemented
#   - deprecated: Will be removed in future version
#   - blocked: Rejected, do not use

# Payload schema special values:
#   - Absent/empty: no payload allowed (must be null/absent)
#   - JSON Schema object: validates payload against schema

[[capability]]
id = "cap.rfc.0001.extensions_capabilities.v1"
rfc = "0001"
name = "extensions_capabilities"
status = "implemented"
doc = "Base extensions/capabilities mechanism for IR evolution"
# Empty object only - no additional properties allowed
payload_schema = '''
{
  "type": "object",
  "additionalProperties": false
}
'''

[[capability]]
id = "cap.rfc.0005.key_effects_writes_exact.v1"
rfc = "0005"
name = "key_effects_writes_exact"
status = "draft"
doc = "Strict shape enforcement for branching meta-tasks (RFC0005)"
# Empty object only - no payload fields needed for v1
payload_schema = '''
{
  "type": "object",
  "additionalProperties": false
}
'''
